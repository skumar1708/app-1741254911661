const Game = require('../models/Game'); exports.getGameState = async (req, res) => { try { const game = await Game.findOne(); if (!game) { return res.status(404).json({ message: 'Game not found' }); } res.status(200).json(game); } catch (error) { res.status(500).json({ message: 'Server Error' }); } }; exports.updateGameState = async (req, res) => { try { const { board, currentPlayer } = req.body; const game = await Game.findOneAndUpdate({}, { board, currentPlayer }, { new: true }); if (!game) { return res.status(404).json({ message: 'Game not found' }); } res.status(200).json(game); } catch (error) { res.status(500).json({ message: 'Server Error' }); } }; exports.resetGame = async (req, res) => { try { const game = await Game.findOneAndUpdate({}, { board: Array(9).fill(null), currentPlayer: 'X' }, { new: true }); if (!game) { return res.status(404).json({ message: 'Game not found' }); } res.status(200).json(game); } catch (error) { res.status(500).json({ message: 'Server Error' }); } };